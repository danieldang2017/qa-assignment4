<!DOCTYPE html>
<head>
	<link href='https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz|Open+Sans:400,600,700|Oswald|Electrolize' rel='stylesheet' type='text/css'>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	
	<title>Car Dealer | New</title>
	
	<meta name="description" content="">
	<meta name="author" content="">
	
	<link rel="shortcut" href="images/favicon.ico" />
	<link rel="stylesheet" href="css/style.css" media="screen" />
	<link rel="stylesheet" href="css/skeleton.css" media="screen" />
	<link rel="stylesheet" href="fancybox/jquery.fancybox.css" media="screen" />
	<script type="text/javascript" src="js/modernizr.custom.js"></script>
	
	<!-- Adds JQuery -->
    <script src="js/jquery-1.7.2.min.js"></script>
    
    <script>
    /*global $*/
    
    $(document).ready( ()=> {
    	$('#contactform').submit( ()=> {
    		
    		$('#errorName').text("");
    		$('#errorAddress').text("");
	    	$('#errorCity').text("");
	    	$('#errorPhoneNumber').text("");
	    	$('#errorEmailAddress').text("");
	    	$('#errorVehicleMake').text("");
	    	$('#errorVehicleModel').text("");
	    	$('#errorVehicleYear').text("");
	    	
	    		
	    	var name = $('#name').val();
	        var address = $('#address').val();
	        var city = $('#city').val();
	        var phone = $('#phone').val();
	        var email = $('#email').val();
	        var make = $('#make').val();
	        var model = $('#model').val();
	        var year = $('#year').val();
	        
	        var validation = true;
	        if(name == "")
	        {
	        	validation = false;
	        	$('#errorName').text("Seller name is required");
	        }
	        
	        if(address == "")
	        {
	        	validation = false;
	        	$('#errorAddress').text("Address is required");
	        }
	        
	        if(city == "")
	        {
	        	validation = false;
	        	$('#errorCity').text("City is required");
	        }
	        
	       

	        if(phone == "")
	        {
	        	validation = false;
	        	$('#errorPhoneNumber').text("Phone No is required");
	        }
	        else if (!(ValidatePhoneNumber(phone)))
	        {
	        	validation = false;
	        	$('#errorPhoneNumber').text("Phone No is incorrect format");
	        }
	        
	        if(email == "")
	        {
	        	validation = false;
	        	$('#errorEmailAddress').text("Email is required");
	        }
	        else if (!validateEmail(email)){
	        	validation = false;
	        	$('#errorEmailAddress').text("Email is invalid format (example@email.com)");
	        }
	       
	        if(make == "")
	        {
	        	validation = false;
	        	$('#errorVehicleMake').text("Vehicle make is required");
	        }
	        	                
	        if(model == "")
	        {
	        	validation = false;
	        	$('#errorVehicleModel').text("Vehicle models is required");
	        }
	       
	        
	        if(year == "")
	        {
	        	validation = false;
	        	$('#errorVehicleYear').text("Vehicle year is required");
	        }
	        else if (isNaN(year))
	        {
	        	validation = false;
	        	$('#errorVehicleYear').text("Vehicle year must be a number");
	        }
	        
	        if(validation)
	        {
	         Promise.resolve()
	         .then(function(){
	            return $.post('/server/AddNew.php', {name: name, address: address, city: city, phone: phone, email: email, make: make, model: model, year: year});
	          })
	          .then(function(response){
		          window.location.replace('/car.html?id=' + response[0]["MAX(ID)"]);
	        	})
	        }
    	})
    });
    
	
	
	function validateEmail(sEmail) {
		var filter = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
		if (filter.test(sEmail)) {
    		 return true;
		}
		else {
        	return false;
    	}
	}
	

function ValidatePhoneNumber(phonenumber) {
    if (phonenumber.match(/^\d{10}/)) {
         return true;
    } 
    return false;
}

	
    </script>
</head>
<body class="menu-1 h-style-1 text-1">

<div class="wrap">
	
	<!-- - - - - - - - - - - - - - Header - - - - - - - - - - - - - - - - -->	
	
	<header id="header" class="clearfix">
		
		<a href="index.html" id="logo"><img src="images/logo.png" alt="Car Dealer"></a>
		
		<div class="widget-container widget_search">
			
			<span class="call"><span>+1 519</span> 746-3353</span><br />
			
			<span class="adds">20 Ottawa St N, Kitchener, ON, N2H 0A4</span>

		</div><!--/ .widget-container-->	
		
	</header><!--/ #header-->
	
	<!-- - - - - - - - - - - - - - end Header - - - - - - - - - - - - - - - - -->
	
	
	<div class="main">

		<!-- - - - - - - - - - - - - - - Container - - - - - - - - - - - - - - - - -->	

		<section class="container clearfix">
			
			<div class="twelve columns">

				<div id="contact">

					<h3 class="widget-title">Contact Information</h3>

					<form onSubmit="return false;" class="contact-form" id="contactform">
						
	                	<p>
							<label id="errorName" style="color:red; "></label>
						<br>
						 	<label id="errorAddress" style="color:red; "></label>
						<br>
						 	<label id="errorCity" style="color:red; "></label>
						 <br>
						 
						 	<label id="errorPhoneNumber" style="color:red; "></label>
						 <br>
						 	<label id="errorEmailAddress" style="color:red; "></label>
						 <br>
						 	<label id="errorVehicleMake" style="color:red; "></label>
						<br>
						 	<label id="errorVehicleModel" style="color:red; "></label>
						<br>
						 	<label id="errorVehicleYear" style="color:red; "></label>
						 </p>

						<p class="input-block">
							<label for="name">Seller name</label>
							<input type="text" name="name" id="name"/>
						</p>

						<p class="input-block">
							<label for="address">Address</label>
							<input type="text" name="address" id="address"/>
						</p>

						<p class="input-block">
							<label for="city">City</label>
							<input type="text" name="city" id="city" />
						</p>
						
						<p class="input-block">
							<label for="phone">Phone number</label>
							<input type="text" name="phone"  id="phone"/>
						</p>
						
						<p class="input-block">
							<label for="email">Email address</label>
							<input type="text" name="email" id="email"/>
						</p>

						<p class="input-block">
							<label for="make">Vehicle make</label>
							<input type="text" name="make" id="make" />
						</p>
						
						<p class="input-block">
							<label for="model">Vehicle model</label>
							<input type="text" name="model" id="model" />
						</p>
						
						<p class="input-block">
							<label for="year">Vehicle year</label>
							<input type="text" name="year" id="year" />
						</p>
						
						<p class="input-block">
							<label>&nbsp;</label>
							<button class="button orange" type="submit" id="submit">Submit</button>
						</p>
						
				
						
					</form><!--/ .contact-form-->			   

				</div><!--/ #contact-->
					
			</div><!--/ .twelve .columns-->
			
		</section><!--/.container -->

		<!-- - - - - - - - - - - - - end Container - - - - - - - - - - - - - - - - -->			
		
	</div><!--/ .main-->

	
	<!-- - - - - - - - - - - - - - - Footer - - - - - - - - - - - - - - - - -->	
	
	<footer id="footer" class="container clearfix">
		
		<section class="container clearfix">
			
			<div class="four columns">

				<div class="widget-container widget_text">

					<h3 class="widget-title">About Us</h3>

					<div class="textwidget">

						<p class="white">
							We are a dealership that is proud to offer you superior customer service and unbeatable prices on used cars, trucks and SUVS. We offer hundreds of quality models and our amicable sales associates will help you choose your perfect fit.
						</p>	

						<p>
							Come visit us at any one of our amazing locations in Kitchener or Cambridge and experience all that we have to offer first-hand!
						</p>

					</div><!--/ .textwidget-->

				</div><!--/ .widget-container-->	

			</div><!--/ .four .columns-->

			<div class="four columns">

				<div class="widget-container widget_text">

					<h3 class="widget-title">Our Hours</h3>

					<div class="textwidget">

						<ul class="hours">

							<li>Monday <span>8 am to 7 pm</span></li>
							<li>Tuesday <span>8 am to 9 pm</span></li>
							<li>Wednesday <span>8 am to 9 pm</span></li>
							<li>Thursday <span>8 am to 9 pm</span></li>
							<li>Friday <span>8 am to 9 pm</span></li>
							<li>Saturday <span>8 am to 9 pm</span></li>
							<li>Sunday <span>Closed</span></li>

						</ul><!--/ .hours-->

					</div><!--/ .textwidget-->

				</div><!--/ .widget-container-->

			</div><!--/ .four .columns-->

			<div class="four columns">

				<div class="widget-container widget_contacts">

					<h3 class="widget-title">Our Contacts</h3>			

					<ul class="our-contacts">

						<li class="address">
							<b>Address Info:</b>
							<p>20 Ottawa St N, Kitchener, ON, N2H 0A4</p>
						</li>
						<li class="phone">
							<b>Phone:</b>&nbsp;<span>+1 (519) 746-3353</span> <br />
							<b>FAX:</b>&nbsp;<span>+1 (877) 363-6475</span>
						</li>
						<li>
							<b>Email: <a href="mailto:assignment4@cardealer.com">assignment4@cardealer.com</a></b>
						</li>
						<li>
							<ul class="social-icons clearfix">
								<li class="twitter"><a title="twitter" href="#">Twitter</a></li>
								<li class="facebook"><a title="facebook" href="#">Facebook</a></li>
								<li class="rss"><a title="rss" href="#">Rss</a></li>
							</ul><!--/ .social-icons-->
						</li>

					</ul><!--/ .our-contacts-->

				</div><!--/ .widget-container-->

			</div><!--/ .four .columns-->

			<div class="four columns">

				<div id="gMap"></div>

			</div><!--/ .four .columns-->
			
			<div class="adjective clearfix">

				<p class="copyright">Copyright &copy; 2018. Quality Assurance. All rights reserved</p>

				<p class="developed">developed by <a href="http://webtemplatemasters.com" target="_blank">Daniel & Winson</a></p>
				
			</div><!--/ .adjective-->

		</section><!--/ .container-->
		
	</footer><!--/ #footer-->
	
	<!-- - - - - - - - - - - - - - - end Footer - - - - - - - - - - - - - - - - -->		
</body>
</html>
